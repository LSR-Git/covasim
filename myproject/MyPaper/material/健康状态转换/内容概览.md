📚 文档内容概览
这份文档全面解析了Covasim中16个健康状态的转换机制，包含以下12个主要部分：
1. 状态概述
● 16个状态的完整列表和分类
● 疾病相关、检测相关、干预相关状态
2. 状态转换流程图
● 完整疾病进展流程（从易感到康复/死亡）
● 检测和诊断流程
● 接触追踪流程
● 包含详细的ASCII流程图
3. 每个状态的详细说明（16个状态）
   每个状态包含：
● ✅ 定义
● ✅ 转换条件（代码示例）
● ✅ 转换时机
● ✅ 影响因素
● ✅ 概率/比例
● ✅ 下一状态
4. 状态转换条件
● 时间驱动的转换（check_inds()）
● 概率驱动的转换（二项分布）
● 事件驱动的转换
5. 核心转换函数
● update_states_pre() - 主要状态更新
● update_states_post() - 后续状态更新
● infect() - 感染并确定预后（最核心！）
6. 疾病进展路径（5条路径）
● 🟢 路径1: 无症状感染（30-50%）
● 🟡 路径2: 轻症（40-60%）
● 🟠 路径3: 重症但非危重（5-15%）
● 🔴 路径4: 危重但存活（1-5%）
● ⚫ 路径5: 危重并死亡（0.5-3%）
7. 干预措施相关状态
● 测试和诊断机制
● 接触者追踪流程
● 疫苗接种效果
8. 时间参数
● 所有疾病进展时间参数详解
● 对数正态分布参数
● 完整的时间线可视化
9. 完整示例（4个实用示例）
● ✅ 示例1: 追踪个体的状态转换
● ✅ 示例2: 统计各状态人数
● ✅ 示例3: 模拟状态转换矩阵
● ✅ 示例4: 自定义状态转换分析
10. 常见问题（7个FAQ）
● Q1: susceptible 和 naive 的区别？
● Q2: quarantined 和 isolated 的区别？
● Q3: 如何确定疾病严重程度？
● Q4: 状态转换的顺序？
● Q5: 如何访问状态历史？
● Q6: 如何修改转换概率？
● Q7: 为什么跳过某些状态？
11. 总结
● 核心要点
● 状态速查表（完整对照表）
🎯 关键亮点
完整的疾病进展流程
susceptible → exposed → infectious → 分支:
                                    ├─ 无症状 → recovered (30-50%)
                                    └─ symptomatic → 分支:
                                                    ├─ 轻症 → recovered (40-50%)
                                                    └─ severe → 分支:
                                                                ├─ recovered (4-10%)
                                                                └─ critical → 分支:
                                                                             ├─ recovered (0.5-2%)
                                                                             └─ dead (0.5-1%)
时间参数一览
转换	平均时间	参数名
暴露 → 传染	1-3天	dur_exp2inf
传染 → 症状	3-7天	dur_inf2sym
无症状康复	5-10天	dur_asym2rec
轻症康复	5-12天	dur_mild2rec
症状 → 重症	3-10天	dur_sym2sev
重症康复	7-18天	dur_sev2rec
重症 → 危重	1-5天	dur_sev2crit
危重康复	10-30天	dur_crit2rec
危重 → 死亡	5-15天	dur_crit2die
核心代码逻辑
# 每个时间步的状态更新顺序
1. check_infectious()   # exposed → infectious
2. check_symptomatic()  # → symptomatic
3. check_severe()       # → severe
4. check_critical()     # → critical
5. check_recovery()     # → recovered
6. check_death()        # → dead
7. check_diagnosed()    # tested → diagnosed
8. check_quar()         # known_contact → quarantined
9. check_enter_iso()    # diagnosed → isolated
💡 实用工具
快速查看个体历史
# 使用内置的 story() 方法
sim.run()
sim.people.story(100)  # 查看个体100的完整历史
状态统计
# 统计各状态人数
people = sim.people
n_infectious = people.infectious.sum()
n_symptomatic = people.symptomatic.sum()
n_recovered = people.recovered.sum()
📊 可视化支持
文档包含多个可视化示例：
● 状态人数随时间变化
● 疾病路径分布
● 转换时间分布
● 个体状态历史追踪
🔗 你现在拥有的完整文档集
1. Covasim自定义干预措施完整指南.md - 如何编写自定义干预措施
2. Covasim免疫机制详解.md - 免疫系统的工作原理
3. Covasim人员健康状态转换机制详解.md - 健康状态转换详解（新！）
这三份文档涵盖了 Covasim 的核心机制，帮助你深入理解模型的运作！
如果你需要更多具体的示例或有任何问题，随时告诉我！🎉